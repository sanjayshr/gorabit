Great, you've captured the logs from both the notification service and the order service. Let's analyze the logs to understand the memory usage patterns.

### Notification Service Logs

The logs show incremental memory usage for each order processed. Here's a summary of the memory usage:

- **Initial Memory Usage**: 
  - `alloc_before`: 520392
  - `alloc_after`: 520768
  - `total_alloc_before`: 520392
  - `total_alloc_after`: 520768

- **Final Memory Usage** (from the last log entry):
  - `alloc_before`: 1198096
  - `alloc_after`: 1198472
  - `total_alloc_before`: 1198096
  - `total_alloc_after`: 1198472

### Order Service Logs

The logs show incremental memory usage for each order created. Here's a summary of the memory usage:

- **Initial Memory Usage**: 
  - `alloc_before`: 2064608
  - `alloc_after`: 2073608
  - `total_alloc_before`: 866863624
  - `total_alloc_after`: 866872624

- **Final Memory Usage** (from the last log entry):
  - `alloc_before`: 2656936
  - `alloc_after`: 2664584
  - `total_alloc_before`: 870212736
  - `total_alloc_after`: 870220384

### Analysis

1. **Notification Service**:
   - The memory usage increases gradually with each order processed.
   - The increase in `alloc_after` and `total_alloc_after` indicates that memory is being allocated for each order processed.

2. **Order Service**:
   - Similar to the notification service, the memory usage increases gradually with each order created.
   - The increase in `alloc_after` and `total_alloc_after` indicates that memory is being allocated for each order created.

### Recommendations

1. **Batch Processing**:
   - Instead of processing orders one by one, consider batch processing to reduce the overhead of frequent memory allocations.

2. **Memory Profiling**:
   - Use Go's built-in memory profiling tools to get a more detailed analysis of memory usage. You can enable memory profiling by adding the `-memprofile` flag to the `go test` command.

3. **Garbage Collection**:
   - Monitor the garbage collection (GC) cycles to ensure that memory is being freed up efficiently. You can log the number of completed GC cycles using `runtime.ReadMemStats`.

### Next Steps

1. **Implement Batch Processing**:
   - Modify the code to process orders in batches.

2. **Enable Memory Profiling**:
   - Add memory profiling to your tests to get a detailed analysis.

3. **Monitor Garbage Collection**:
   - Add logging for GC cycles to ensure efficient memory management.

Would you like to proceed with implementing batch processing or enabling memory profiling? Let me know how you'd like to proceed!